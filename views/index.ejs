<!DOCTYPE html>
<html>
<head>
  <title>Customer Management App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  
  <style>
  table {
    border-radius: 15px;
    overflow: hidden;
  }
  
  thead {
    background-color: #0d6efd;
    color: white;
  }

  .btn {
      border-radius: 20px;
    }
  

  body {
    background: linear-gradient(to right, #ffe0e9, #e0f7ff);
    min-height: 100vh;
  }  
  </style>

</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #7FC3FF;">
  <div class="container">
    <a class="navbar-brand fw-bold" href="/">Customer Management App</a>
  </div>
</nav>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4 mt-4">
    <form class="d-flex w-50" method="GET" action="/search">
      <input type="text" name="query" class="form-control me-2" placeholder="Search by name, contact, email, or address">
      <button class="btn btn-dark">Search</button>
    </form>
    <a href="/addCustomer" class="btn btn-sm" style="background-color: #A3E4D7; color: #000000;">+ Add New Customer</a>
  </div>

<div class="container mt-5">
  <h2 class="mb-4">All Customers</h2>

  <table class="table table-bordered table-hover bg-white shadow-sm">
    <thead class="table-primary">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Contact Number</th>
        <th>Email</th>
        <th>Address</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% if (customers.length === 0) { %>
        <tr>
          <td colspan="6" class="text-center text-muted">No customers found</td>
        </tr>
      <% } else { %>
        <% customers.forEach(customer => { %>
          <tr>
            <td><%= customer.customerId %></td>
            <td><%= customer.customerName %></td>
            <td><%= customer.contactNumber %></td>
            <td><%= customer.email %></td>
            <td><%= customer.address %></td>
            <td>
              <a href="/editCustomer/<%= customer.customerId %>" class="btn btn-warning btn-sm" style="background-color: #FFF9C4; color: #000000;">
                <i class="bi bi-pencil"></i> Edit
              </a>
              <a href="/deleteCustomer/<%= customer.customerId %>" class="btn btn-sm" style="background-color: #FC6C85; color: #000000;" onclick="return confirm('Are you sure you want to delete this customer?')">
                <i class="bi bi-trash" ></i> Delete
              </a>
            </td>
          </tr>
        <% }) %>
      <% } %>
    </tbody>
  </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>